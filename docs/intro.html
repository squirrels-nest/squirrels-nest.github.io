<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-intro" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.0">
<title data-rh="true">Introduction | Squirrels</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://squirrels-nest.github.io/img/squirrels.jpg"><meta data-rh="true" name="twitter:image" content="https://squirrels-nest.github.io/img/squirrels.jpg"><meta data-rh="true" property="og:url" content="https://squirrels-nest.github.io/docs/intro"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Introduction | Squirrels"><meta data-rh="true" name="description" content="Overview"><meta data-rh="true" property="og:description" content="Overview"><link data-rh="true" rel="icon" href="/img/squirrels.png"><link data-rh="true" rel="canonical" href="https://squirrels-nest.github.io/docs/intro"><link data-rh="true" rel="alternate" href="https://squirrels-nest.github.io/docs/intro" hreflang="en"><link data-rh="true" rel="alternate" href="https://squirrels-nest.github.io/docs/intro" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.c3bb305e.css">
<script src="/assets/js/runtime~main.482e280c.js" defer="defer"></script>
<script src="/assets/js/main.91d0e762.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/squirrels.png" alt="Squirrels Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/squirrels.png" alt="Squirrels Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Squirrels</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Docs</a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Next</a><a href="https://github.com/squirrels-nest/squirrels" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/intro">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/tutorial">Tutorial</a><button aria-label="Expand sidebar category &#x27;Tutorial&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/topics">Topics</a><button aria-label="Expand sidebar category &#x27;Topics&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/cli-references">CLI References</a><button aria-label="Expand sidebar category &#x27;CLI References&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/python-apis">Python APIs</a><button aria-label="Expand sidebar category &#x27;Python APIs&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Introduction</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Introduction</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h2>
<p>Squirrels is a low-code REST API framework designed to simplify and automate data analytics while easing the burden on data / analytics engineers and eliminating the need for API engineers. With a primary focus on reusability and flexibility, Squirrels allows for query logic to be shared across multiple front-end applications. The framework makes it easy to create REST APIs that generate complex SQL queries using query parameters for selected parameter values, and delivering tabular results as the response.</p>
<p>For those familiar with <a href="https://www.getdbt.com/" target="_blank" rel="noopener noreferrer">dbt</a>, Squirrels is essentially the dbt for real-time data analytics. In fact, the project structure and CLI are intentionally made similar to dbt such that engineers who dbt can pick up Squirrels easily.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="main-features">Main Features<a href="#main-features" class="hash-link" aria-label="Direct link to Main Features" title="Direct link to Main Features">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="dynamic-queries-with-sql-jinja-or-python">Dynamic Queries with SQL Jinja or Python<a href="#dynamic-queries-with-sql-jinja-or-python" class="hash-link" aria-label="Direct link to Dynamic Queries with SQL Jinja or Python" title="Direct link to Dynamic Queries with SQL Jinja or Python">​</a></h4>
<p>Squirrels utilizes Jinja as a templating language for rendering complex SQL queries. These templates, known as &#x27;models&#x27;, enable the dynamic generation of queries based on business needs. Additionally, Squirrels supports Python to generate dynamic queries, providing a more flexible tool of handling data transformations through sqlalchemy ORM or pandas dataframes (if preferred).</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="model-dependencies">Model Dependencies<a href="#model-dependencies" class="hash-link" aria-label="Direct link to Model Dependencies" title="Direct link to Model Dependencies">​</a></h4>
<p>Similar to <a href="https://www.getdbt.com/" target="_blank" rel="noopener noreferrer">dbt</a>, the <strong>ref</strong> function is available to define model dependencies, which is useful in creating real-time data pipelines. Models can even join the results of queries / models run on different databases!</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="cascading-parameters">Cascading Parameters<a href="#cascading-parameters" class="hash-link" aria-label="Direct link to Cascading Parameters" title="Direct link to Cascading Parameters">​</a></h4>
<p>The framework supports dynamic cascading parameter widgets that adjust based on the selected values of other parameters. These parameters can be specified as hard-coded configurations, or fetched from database lookup tables. Models can use the selected parameter values to change behaviour.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="api-access-to-datasets">API Access to Datasets<a href="#api-access-to-datasets" class="hash-link" aria-label="Direct link to API Access to Datasets" title="Direct link to API Access to Datasets">​</a></h4>
<p>Applications can access &quot;datasets&quot; and their associated parameters via well-defined API endpoints. Each dataset can be configured with a target model, a set of applicable widget parameters, and access permissions. During development, a testing UI is available to conveniently test your APIs.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="context-variables">Context Variables<a href="#context-variables" class="hash-link" aria-label="Direct link to Context Variables" title="Direct link to Context Variables">​</a></h4>
<p>Squirrels allows for the creation of &quot;context variables&quot; in Python files which can then be used within your models. These context variables are useful to leverage your favourite Python IDE (for features like autofill suggestions) to more conveniently define variables based on selected parameter values.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="in-memory-caching">In-memory Caching<a href="#in-memory-caching" class="hash-link" aria-label="Direct link to In-memory Caching" title="Direct link to In-memory Caching">​</a></h4>
<p>After the first API call, the framework caches API responses for parameters and datasets in memory (if caching is enabled), enhancing the performance of subsequent calls.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="authentication">Authentication<a href="#authentication" class="hash-link" aria-label="Direct link to Authentication" title="Direct link to Authentication">​</a></h4>
<p>The framework supports defining custom user models and methods for authenticating a user given username and password. Both the parameter widgets and data model can change behaviour based on the authenticated user if needed.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="reusable-packages">Reusable Packages<a href="#reusable-packages" class="hash-link" aria-label="Direct link to Reusable Packages" title="Direct link to Reusable Packages">​</a></h4>
<p>Reuse functionality across different Squirrels projects through package installations.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="rest-api-types">REST API Types<a href="#rest-api-types" class="hash-link" aria-label="Direct link to REST API Types" title="Direct link to REST API Types">​</a></h2>
<p>Every Squirrels project defines a set of related datasets under a single version contolled project. When running the API server for a Squirrels projects, the following API types become available.</p>
<ul>
<li><strong>Token API</strong> - Retrieve a short-lived API token if the provided credentials are valid</li>
<li><strong>Datasets Catalog API</strong> - Provides a catalog of datasets available under the project (can vary with authentication)</li>
<li><strong>Parameters API</strong> - Provides information of the parameter widgets for a given dataset</li>
<li><strong>Dataset API</strong> - Provides the tabular result of a dataset given parameter selections</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-dataset-workflow">The Dataset Workflow<a href="#the-dataset-workflow" class="hash-link" aria-label="Direct link to The Dataset Workflow" title="Direct link to The Dataset Workflow">​</a></h2>
<p>Although a dataset is only associated to one target model, the target model may depend on multiple upstream models. When calling the dataset API, the following happens behind the scenes:</p>
<ol>
<li>Parameter selections are validated, and context variables are created.</li>
<li>Models are compiled from SQL templates / python functions in upstream order and concurrently if possible. Compilation results are based on parameter selections, context variables, and authenticated user. Note that the compiled models should form a DAG (directed acyclic graph).</li>
<li>The DAG is validated to contain no cycles (i.e., the DAG is truly acyclic). This is separate from the step above since validation is done in a non-concurrent manner.</li>
<li>Models are executed in downstream order and concurrently if possible. Some models, called &quot;dbviews&quot;, are run against external databases, while other models, called &quot;federates&quot;, run in a temporary in-memory database (choice of sqlite or duckdb) created in the API server. Federates can join results of dbviews or other federates via the <strong>ref</strong> function (dbviews cannot use <strong>ref</strong>).</li>
<li>Once the target model is complete, the results are loaded to JSON and provided as the REST API response.</li>
</ol></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--next" href="/docs/category/tutorial"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Tutorial</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#main-features" class="table-of-contents__link toc-highlight">Main Features</a></li><li><a href="#rest-api-types" class="table-of-contents__link toc-highlight">REST API Types</a></li><li><a href="#the-dataset-workflow" class="table-of-contents__link toc-highlight">The Dataset Workflow</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/tutorial">Tutorial</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/topics">Topics</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/cli-references">CLI References</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/python-apis">Python APIs</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/7fB7dYXrXS" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/squirrels-nest/squirrels" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://pypi.org/project/squirrels/" target="_blank" rel="noopener noreferrer" class="footer__link-item">PyPI<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Squirrels, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>