"use strict";(self.webpackChunksquirrels_docs=self.webpackChunksquirrels_docs||[]).push([[4432],{2746:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>c});var a=r(5893),n=r(1151);const s={sidebar_position:3},o="3. Create the Dataset Parameters",i={id:"tutorial/parameters",title:"3. Create the Dataset Parameters",description:"Go into the pyconfigs/parameters.py file. This file contains the definitions of all the widget parameters used in the dataset through a main function.",source:"@site/docs/tutorial/3-parameters.md",sourceDirName:"tutorial",slug:"/tutorial/parameters",permalink:"/docs/tutorial/parameters",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"2. Configure the Squirrels Project File",permalink:"/docs/tutorial/project-file"},next:{title:"4. Create the SQL Queries",permalink:"/docs/tutorial/queries"}},l={},c=[{value:"Define the Parameter Options",id:"define-the-parameter-options",level:2},{value:"Define the Parameters",id:"define-the-parameters",level:2}];function d(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,n.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.h1,{id:"3-create-the-dataset-parameters",children:"3. Create the Dataset Parameters"}),"\n",(0,a.jsxs)(t.p,{children:["Go into the ",(0,a.jsx)(t.code,{children:"pyconfigs/parameters.py"})," file. This file contains the definitions of all the widget parameters used in the dataset through a ",(0,a.jsx)(t.strong,{children:"main"})," function."]}),"\n",(0,a.jsx)(t.admonition,{type:"info",children:(0,a.jsxs)(t.p,{children:["The possible widget parameter types supported today are ",(0,a.jsx)(t.strong,{children:"SingleSelectParameter"}),", ",(0,a.jsx)(t.strong,{children:"MultiSelectParameter"}),", ",(0,a.jsx)(t.strong,{children:"DateParameter"}),", ",(0,a.jsx)(t.strong,{children:"DateRangeParameter"}),", ",(0,a.jsx)(t.strong,{children:"NumberParameter"}),", and ",(0,a.jsx)(t.strong,{children:"NumberRangeParameter"}),". Each parameter type can be created with one of the factory method ",(0,a.jsx)(t.strong,{children:"Create"}),", ",(0,a.jsx)(t.strong,{children:"CreateSimple"}),", or ",(0,a.jsx)(t.strong,{children:"CreateFromSource"}),', which exists as class methods on each parameter type. Every factory method takes "name" and "label" as required arguments.']})}),"\n",(0,a.jsxs)(t.p,{children:["We will start from scratch, so remove all the existing code in the ",(0,a.jsx)(t.strong,{children:"main"})," function body. We will create one single-select parameter to specify the dimension to group by."]}),"\n",(0,a.jsx)(t.h2,{id:"define-the-parameter-options",children:"Define the Parameter Options"}),"\n",(0,a.jsxs)(t.p,{children:["We first need to specify the list of parameter options. Inside the ",(0,a.jsx)(t.strong,{children:"main"})," function, specify the list of options as such:"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-python",children:"group_by_options = [\n    sr.SelectParameterOption('0', 'Year', dim_col='year'),\n    sr.SelectParameterOption('1', 'Quarter', dim_col='quarter'),\n    sr.SelectParameterOption('2', 'Month', dim_col='month_name', order_by_col='month_order'),\n    sr.SelectParameterOption('3', 'Day of Year', dim_col='day_of_year'),\n    sr.SelectParameterOption('4', 'Condition', dim_col='condition')\n]\n"})}),"\n",(0,a.jsxs)(t.p,{children:["The first two parameters to the ",(0,a.jsx)(t.strong,{children:"SelectParameterOption"}),' constructors are the ID and label. The ID must be distinct across options and would never change in the future. If an API client associates ID "0" to mean "group by year", then that association should never be broken even if the label or the ordering of the dropdown options change.']}),"\n",(0,a.jsxs)(t.p,{children:['Arbitrary keyword arguments such as "dim_col" and "order_by_col" can be specified to the ',(0,a.jsx)(t.strong,{children:"SelectParameterOption"})," constructor which will be treated as custom fields to the parameter option that can be used later. For more info, see the ",(0,a.jsx)(t.a,{href:"../topics/parameters",children:"Widget Parameters"})," page."]}),"\n",(0,a.jsx)(t.admonition,{type:"note",children:(0,a.jsxs)(t.p,{children:["The ",(0,a.jsx)(t.strong,{children:"SelectParameterOption"}),' class has an "is_default" attribute to specify the parameter option(s) that are selected by default. By default, "is_default" is set to False. When none of the parameter options have "is_default" as True, the first option is default for single-select parameters, and nothing is selected for multi-select parameter.']})}),"\n",(0,a.jsx)(t.h2,{id:"define-the-parameters",children:"Define the Parameters"}),"\n",(0,a.jsx)(t.p,{children:"Create a single-select parameter using the options defined above with:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-python",children:'sr.SingleSelectParameter.CreateSimple("group_by_dim", "Group By", group_by_options)\n'})}),"\n",(0,a.jsx)(t.p,{children:'This sets the name and label of the new parameter to "group_by_dim" and "Group By".'}),"\n",(0,a.jsx)(t.admonition,{type:"info",children:(0,a.jsxs)(t.p,{children:["For ",(0,a.jsx)(t.strong,{children:"SingleSelectParameter"}),", the arguments for ",(0,a.jsx)(t.strong,{children:"CreateSimple"})," and ",(0,a.jsx)(t.strong,{children:"Create"})," are very similar, except ",(0,a.jsx)(t.strong,{children:"Create"})," lets you specify a parent parameter for cascading the shown options. For non-select parameter types like ",(0,a.jsx)(t.strong,{children:"DateParameter"}),", not only does ",(0,a.jsx)(t.strong,{children:"Create"})," let you specify a parent parameter, but it also requires a list of ",(0,a.jsx)(t.strong,{children:"DateParameterOption"})," as an argument while ",(0,a.jsx)(t.strong,{children:"CreateSimple"}),' takes a single "default_date" instead. Each ',(0,a.jsx)(t.strong,{children:"DateParameterOption"}),' can be associated to a different "default_date" allowing the default date to vary based on selections of other parameters.']})}),"\n",(0,a.jsxs)(t.p,{children:["You have finished setting up the parameter for your dataset! At this point, your ",(0,a.jsx)(t.code,{children:"parameters.py"})," file should look something like this:"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-python",children:'import squirrels as sr\n\ndef main(sqrl: sr.ParametersArgs) -> None:\n    group_by_options = [\n        sr.SelectParameterOption("g0", "Transaction", columns=["id", "date"]),\n        sr.SelectParameterOption("g1", "Date", columns=["date"]),\n        sr.SelectParameterOption("g2", "Category", columns=["category"]),\n        sr.SelectParameterOption("g3", "Subcategory", columns=["category", "subcategory"]),\n    ]\n    sr.SingleSelectParameter.Create("group_by_dim", "Group By", group_by_options)\n'})})]})}function h(e={}){const{wrapper:t}={...(0,n.a)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},1151:(e,t,r)=>{r.d(t,{Z:()=>i,a:()=>o});var a=r(7294);const n={},s=a.createContext(n);function o(e){const t=a.useContext(s);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),a.createElement(s.Provider,{value:t},e.children)}}}]);