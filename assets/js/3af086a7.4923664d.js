"use strict";(self.webpackChunksquirrels_docs=self.webpackChunksquirrels_docs||[]).push([[627],{4196:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>p,frontMatter:()=>i,metadata:()=>a,toc:()=>l});var t=o(5893),r=o(1151);const i={},s="Deployment",a={id:"tips/deployment",title:"Deployment",description:'In the future, we intend to create our own Cloud platform to host Squirrels projects that comes with infrastructure built-in for "project version catalog" and maintaining stacks of minor versions. But for the time being, we recommend creating a Docker image, and deploying your image as a container on a hosting platform. Information on deploying Docker containers to your hosting platform is not provided on this page... See the docs for your hosting platform for more details.',source:"@site/docs/tips/deployment.md",sourceDirName:"tips",slug:"/tips/deployment",permalink:"/docs/tips/deployment",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Tips",permalink:"/docs/category/tips"},next:{title:"Versioning Best Practices",permalink:"/docs/tips/versioning"}},c={},l=[];function d(e){const n={a:"a",code:"code",h1:"h1",p:"p",pre:"pre",...(0,r.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"deployment",children:"Deployment"}),"\n",(0,t.jsx)(n.p,{children:'In the future, we intend to create our own Cloud platform to host Squirrels projects that comes with infrastructure built-in for "project version catalog" and maintaining stacks of minor versions. But for the time being, we recommend creating a Docker image, and deploying your image as a container on a hosting platform. Information on deploying Docker containers to your hosting platform is not provided on this page... See the docs for your hosting platform for more details.'}),"\n",(0,t.jsxs)(n.p,{children:['Typically, a file named "Dockerfile" is needed for creating docker images (which can be stored in your Squirrels project or somewhere in your server). There is no "one size fits all" for the contents of your Dockerfile since it depends on the Python version and package management tool that you use. Assuming Python version 3.11 and the dependencies of your project are provided in a ',(0,t.jsx)(n.code,{children:"requirements-lock.txt"})," file that can be used for pip installs, the Dockerfile can look something like this:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-dockerfile",children:'# Change here to use different python version (ex. 3.12-slim for version 3.12)\nFROM python:3.11-slim\nWORKDIR /app\n\n# Only needed if any python dependencies are installed from git, or for the\n# "squirrels deps" command if there are packages defined in "squirrels.yml"\nRUN apt-get update && apt-get install -y git\n\nCOPY requirements-lock.txt .\nRUN pip install --no-cache-dir -r requirements-lock.txt\n\nCOPY . .\nRUN squirrels deps\n\nCMD ["squirrels", "run", "--host", "0.0.0.0", "--port", "4465"]\n'})}),"\n",(0,t.jsxs)(n.p,{children:["In addition to the docker image, a docker volume is also needed store the ",(0,t.jsx)(n.a,{href:"../topics/environcfg",children:"environcfg.yml"})," file (which contains configurations that are NOT suppose to be stored in git). As an example, if your ",(0,t.jsx)(n.a,{href:"../topics/environcfg",children:"environcfg.yml"})," is in current directory, you can use the following ",(0,t.jsx)(n.code,{children:"compose.yml"})," file to create a docker container with the volume by running ",(0,t.jsx)(n.code,{children:"docker-compose up"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'services:\n  squirrels:\n    build: /path/to/Dockerfile\n    ports:\n      - "4465:4465"\n    volumes:\n      - ./environcfg.yml:/app/environcfg.yml\n'})})]})}function p(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},1151:(e,n,o)=>{o.d(n,{Z:()=>a,a:()=>s});var t=o(7294);const r={},i=t.createContext(r);function s(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);